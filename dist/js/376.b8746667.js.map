{"version":3,"file":"js/376.b8746667.js","mappings":"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","sources":["webpack://infinity-flowers/./src/mixins/GetCarts.js","webpack://infinity-flowers/./src/mixins/GetFavorites.js","webpack://infinity-flowers/./src/mixins/GoDetail.js","webpack://infinity-flowers/./src/components/PaginationComponent.vue","webpack://infinity-flowers/./src/components/PaginationComponent.vue?4f9e","webpack://infinity-flowers/./src/views/Front/ProductsView.vue","webpack://infinity-flowers/./src/views/Front/ProductsView.vue?c50b"],"sourcesContent":["export default {\n  inject: ['emitter'],\n  methods: {\n    getCarts() {\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.$http.get(api)\n        .then((res) => {\n          if (res.data.success) {\n            this.cartqty = 0;\n            this.isLoading = false;\n            this.CartList = res.data.data;\n            this.cartLength = res.data.data.carts.length;\n            res.data.data.carts.forEach((element) => {\n              this.cartqty += element.qty;\n            });\n            this.emitter.emit('push-CartNotice', {\n              data: this.cartLength,\n              category: 'cart',\n            });\n          }\n        });\n    },\n  },\n};\n","export default {\n  methods: {\n    getFavorite() {\n      if (localStorage.getItem('favoriteItem')) {\n        const tempList = localStorage.getItem('favoriteItem');\n        this.idList = JSON.parse(tempList);\n        this.favoriteLength = this.idList.length;\n      } else {\n        this.idList = [];\n        this.favoriteLength = 0;\n      }\n      this.emitter.emit('push-FavNotice', {\n        data: this.favoriteLength,\n        category: 'cart',\n      });\n    },\n  },\n};\n","export default {\n  inject: ['emitter'],\n  methods: {\n    goForDetail(item) {\n      if (localStorage.getItem('viewedItem')) {\n        const tempList = localStorage.getItem('viewedItem');\n        this.viewedList = JSON.parse(tempList);\n      } else {\n        this.viewedList = [];\n      }\n      if (this.viewedList.every((viewedId) => viewedId !== item.id)) {\n        this.viewedList.push(item.id);\n        localStorage.setItem('viewedItem', JSON.stringify(this.viewedList));\n      }\n      this.emitter.emit('push-ProductDetail', {\n        data: item,\n        qty: 1,\n      });\n      this.$router.push(`/products/${item.id}`);\n    },\n  },\n};\n","<template>\n  <nav aria-label=\"Page navigation example\">\n    <ul class=\"pagination justify-content-center\">\n      <li class=\"page-item\">\n        <a class=\"page-link page-deep\" href=\"#\" tabindex=\"-1\" aria-disabled=\"true\"\n          :class=\"{ disabled: !tempPage.has_pre }\"\n          @click.prevent=\"updatePage(tempPage.current_page-1)\">上一頁</a>\n      </li>\n      <li class=\"page-item\"\n        v-for=\"item in tempPage.total_pages\" :key=\"'page' + item\">\n        <a class=\"page-link page-deep\" href=\"#\"\n          :class=\" { 'active': item===tempPage.current_page } \"\n          @click.prevent=\"updatePage(item)\">{{ item }}</a>\n      </li>\n      <li class=\"page-item\">\n        <a class=\"page-link page-deep\" href=\"#\"\n          :class=\"{ disabled: !tempPage.has_next }\"\n          @click.prevent=\"updatePage(tempPage.current_page+1)\">下一頁</a>\n      </li>\n    </ul>\n  </nav>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      tempPage: {},\n    };\n  },\n  props: ['pages'],\n  watch: {\n    pages() {\n      this.tempPage = this.pages;\n    },\n  },\n  methods: {\n    updatePage(item) {\n      this.$emit('emit-page', item);\n    },\n  },\n};\n</script>\n\n<style>\n.page-pastel {\n  color:rgba(231, 152, 152, 1);\n}\n.page-deep {\n  color:#2A1B18;\n}\n.page-link:hover{\n  background-color:rgba(231, 152, 152, 0.25);\n  color: #2A1B18;\n  border-color:rgba(231, 152, 152, 1);\n}\n.page-link.active{\n  background-color:rgba(231, 152, 152, .7);\n  color: #2A1B18;\n  border-color:rgba(231, 152, 152, 1);\n}\n.page-link:focus{\n  color: #2A1B18;\n  box-shadow: 0 0 0 0.25rem rgba(231, 152, 152, 0.25);\n}\n</style>\n","import { render } from \"./PaginationComponent.vue?vue&type=template&id=fa591568\"\nimport script from \"./PaginationComponent.vue?vue&type=script&lang=js\"\nexport * from \"./PaginationComponent.vue?vue&type=script&lang=js\"\n\nimport \"./PaginationComponent.vue?vue&type=style&index=0&id=fa591568&lang=css\"\n\nimport exportComponent from \"/Users/chiu/vue/infinity-flowers/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <LoadingOverlay :active=\"isLoading\" />\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"side-bar col-lg-2\">\n        <ul class=\"nav d-flex flex-lg-column flex-row\">\n          <li class=\"nav-item\">\n            <a class=\"nav-link rounded-pill product-category\" href=\"#\" aria-current=\"page\"\n              :class=\"category === '' ? 'text-pastel' : 'text-deep'\"\n              @click.prevent=\"category = ''\">\n              <i class=\"bi bi-flower3 text-pastel\"\n                :class=\"category === '' ? 'category-visible' : 'category-hide'\"></i> 全部商品\n            </a>\n          </li>\n          <li class=\"nav-item\" v-for=\"(item, key) in productCategory\" :key=\"'category' + key\">\n            <a class=\"nav-link text-deep rounded-pill product-category\" href=\"#\"\n              :class=\"category === item ? 'text-pastel' : 'text-deep'\"\n              @click.prevent=\"category = item\">\n              <i class=\"bi bi-flower3 text-pastel\"\n                :class=\"category === item ? 'category-visible' : 'category-hide'\"></i>\n                {{ item }}\n            </a>\n          </li>\n        </ul>\n      </div>\n      <div class=\"col-lg-10 row ms-0\">\n        <div class=\"col-sm-12 col-md-6 col-lg-4\"\n          v-for=\"item in filterProduct[pagination.current_page-1]\" :key=\"item.id\">\n          <div class=\"card mt-1 mb-2 mx-auto product-card\">\n            <a class=\"product-card-item\" href=\"#\" @click.prevent=\"goForDetail(item)\">\n              <div\n                class=\"overflow-hidden text-light position-relative border-bottom product-card-pic\">\n                <div class=\"position-absolute bg-secondary px-2 bottom-0 end-0 rounded m-1\">\n                  <p class=\"card-text\">{{ item.category }}</p>\n                </div>\n                <img :src=\"item.imageUrl\" :alt=\"item.title\"\n                  class=\"card-img-top d-block align-middle w-100 h-100 w-auto mx-auto\"\n                >\n              </div>\n              <div class=\"card-body text-dark\">\n                <div>\n                  <h5 class=\"row overflow-hidden\">\n                    <div class=\"card-title col-10 overflow-hidden product-card-title\"\n                      :title=\"item.title\">\n                      {{ item.title }}\n                    </div>\n                    <div class=\"mw-25 text-end col-2 add-favorite\">\n                      <a href=\"#\" @click.stop.prevent=\"updateFavorite(item)\">\n                        <i class=\"bi bi-heart text-danger\" title=\"加入收藏\"\n                          v-if=\"idList.every((id) => item.id !== id)\"></i>\n                        <i class=\"bi bi-heart-fill text-danger\" title=\"移除收藏\"\n                          v-else></i>{{ null }}\n                      </a>\n                    </div>\n                  </h5>\n                </div>\n                <p class=\"card-text\">\n                  <span class=\"text-decoration-line-through fs-6\"\n                    v-if=\"item.origin_price !== item.price\">\n                    NT${{ $filters.currency(item.origin_price) }}\n                  </span>\n                  <span class=\"fs-5\"> NT${{ $filters.currency(item.price) }}</span>\n                </p>\n              </div>\n            </a>\n            <div class=\"card-footer\">\n              <button class=\"btn button-light-color w-100\" type=\"button\"\n                @click.prevent=\"addCart(item)\">\n                <div class=\"spinner-border spinner-border-sm text-light\" role=\"status\"\n                  v-if=\"loadingStatus && item.id === tempCartId\">\n                  <span class=\"visually-hidden\">Loading...</span>\n                </div>\n                <i class=\"bi bi-cart-plus\" v-else></i>加入購物車\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <Pagination :pages=\"pagination\" @emit-page=\"getProducts\" class=\"my-5\"/>\n</template>\n\n<script>\nimport Pagination from '@/components/PaginationComponent.vue';\nimport cartMixin from '@/mixins/GetCarts';\nimport favoriteMixin from '@/mixins/GetFavorites';\nimport detailMixin from '@/mixins/GoDetail';\n\nexport default {\n  data() {\n    return {\n      idList: [],\n      tempCartId: '',\n      productList: [],\n      allProductList: [],\n      pagination: {},\n      page: 1,\n      productCategory: [],\n      category: '',\n      isLoading: false,\n      loadingStatus: false,\n    };\n  },\n  components: {\n    Pagination,\n  },\n  inject: ['emitter'],\n  methods: {\n    getProducts(page = 1) {\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products?page=${page}`;\n      this.$http.get(api)\n        .then((res) => {\n          if (res.data.success) {\n            this.productList = res.data.products;\n            this.pagination = res.data.pagination;\n            this.isLoading = false;\n          }\n        })\n        .catch((err) => {\n          this.isLoading = false;\n          this.emitter.emit('push-message', {\n            style: 'danger',\n            title: `${err.response.data.message}`,\n          });\n        });\n    },\n    getCategory() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;\n      this.$http.get(api)\n        .then((res) => {\n          if (res.data.success) {\n            this.allProductList = res.data.products;\n            const category = [];\n            this.allProductList.forEach((item) => {\n              category.push(item.category);\n            });\n            this.productCategory = category.filter((element, index, arr) => arr.indexOf(element)\n            === index);\n          }\n        })\n        .catch((err) => {\n          this.emitter.emit('push-message', {\n            style: 'danger',\n            title: `${err.response.data.message}`,\n          });\n        });\n    },\n    addCart(item) {\n      this.loadingStatus = true;\n      this.tempCartId = item.id;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      const cart = {\n        product_id: item.id,\n        qty: 1,\n      };\n      this.$http.post(api, { data: cart })\n        .then((res) => {\n          if (res.data.success) {\n            this.emitter.emit('push-message', {\n              style: 'success',\n              title: res.data.message,\n            });\n            this.getProducts();\n            this.getCarts();\n            this.loadingStatus = false;\n          }\n        })\n        .catch((err) => {\n          this.loadingStatus = false;\n          this.emitter.emit('push-message', {\n            style: 'danger',\n            title: `${err.response.data.message}`,\n          });\n        });\n    },\n    updateFavorite(item) {\n      if (this.idList.every((id) => item.id !== id)) {\n        this.idList.push(item.id);\n        localStorage.setItem('favoriteItem', JSON.stringify(this.idList));\n        this.emitter.emit('push-message', {\n          style: 'success',\n          title: '已新增至收藏',\n        });\n      } else {\n        this.idList.indexOf(item.id);\n        this.idList.splice(this.idList.indexOf(item.id), 1);\n        localStorage.setItem('favoriteItem', JSON.stringify(this.idList));\n        this.emitter.emit('push-message', {\n          style: 'danger',\n          title: '已取消收藏',\n        });\n      }\n      this.getFavorite();\n    },\n  },\n  computed: {\n    filterProduct() {\n      const tempData = this.allProductList.filter((item) => item.category.match(this.category));\n      const resultData = [];\n      // eslint-disable-next-line\n      this.pagination.total_pages = tempData.length % 10 === 0? parseInt(tempData.length / 10, 10) : parseInt(tempData.length / 10, 10)+1;\n      if (this.pagination.current_page > this.pagination.total_pages) {\n        // eslint-disable-next-line\n        this.pagination.current_page = 1;\n      }\n      tempData.forEach((item, i) => {\n        if (i % 9 === 0) {\n          resultData.push([]);\n        }\n        const pageNum = parseInt(i / 9, 9);\n        resultData[pageNum].push(item);\n      });\n      return resultData;\n    },\n  },\n  mixins: [cartMixin, favoriteMixin, detailMixin],\n  created() {\n    this.getProducts();\n    this.getFavorite();\n    this.getCategory();\n  },\n  mounted() {\n    this.emitter.emit('page-change', {\n      data: 'products',\n    });\n  },\n};\n</script>\n\n<style>\n.text-deep {\n  color:#2A1B18;\n}\n.product-category:hover{\n  color:rgba(231, 152, 152, 1);\n}\n.text-pastel {\n  color:rgba(231, 152, 152, 1);\n}\n.category-visible{\n  visibility:visible;\n}\n.category-hide{\n  visibility:hidden;\n}\n.add-favorite{\n  font-size: 20px;\n  transition: font-size .5s;\n}\n.add-favorite:hover{\n  font-size: 23px;\n}\n.product-card {\n  max-width: 276px;\n}\n.product-card-item{\n  text-decoration: none;\n}\n.product-card-pic{\n  height: 345px;\n  position: relative;\n  transition: all 1s;\n}\n.product-card-pic img{\n  transition: all 1s;\n  scale: 1;\n  border-radius: 0.375rem 0.375rem 0 0;\n}\n.product-card-item:hover .product-card-pic img{\n  transform: scale(1.1);\n}\n.product-card-item .card-title{\n  max-width: 225px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.product-card-content:nth-child(3n-1){\n  margin: 0 auto;\n}\n</style>\n","import { render } from \"./ProductsView.vue?vue&type=template&id=2d908c18\"\nimport script from \"./ProductsView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsView.vue?vue&type=script&lang=js\"\n\nimport \"./ProductsView.vue?vue&type=style&index=0&id=2d908c18&lang=css\"\n\nimport exportComponent from \"/Users/chiu/vue/infinity-flowers/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["inject","methods","getCarts","this","isLoading","api","$http","get","then","res","data","success","cartqty","CartList","cartLength","carts","length","forEach","element","qty","emitter","emit","category","getFavorite","localStorage","getItem","tempList","idList","JSON","parse","favoriteLength","goForDetail","item","viewedList","every","viewedId","id","push","setItem","stringify","$router","class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_normalizeClass","disabled","$data","tempPage","has_pre","href","tabindex","onClick","_cache","_withModifiers","$event","$options","updatePage","current_page","_Fragment","_renderList","total_pages","key","_hoisted_4","_hoisted_5","has_next","props","watch","pages","$emit","__exports__","render","title","role","_hoisted_27","_createVNode","_component_LoadingOverlay","active","productCategory","_toDisplayString","_hoisted_7","filterProduct","pagination","_hoisted_8","_ctx","_hoisted_10","_hoisted_11","_hoisted_12","src","imageUrl","alt","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","updateFavorite","_hoisted_19","_hoisted_20","_hoisted_21","origin_price","price","_hoisted_22","$filters","currency","_hoisted_23","_hoisted_24","type","addCart","loadingStatus","tempCartId","_hoisted_26","_hoisted_28","_hoisted_29","_component_Pagination","onEmitPage","getProducts","productList","allProductList","page","components","Pagination","products","catch","err","style","response","message","getCategory","filter","index","arr","indexOf","cart","product_id","post","splice","computed","tempData","match","resultData","parseInt","i","pageNum","mixins","cartMixin","favoriteMixin","detailMixin","created","mounted"],"sourceRoot":""}