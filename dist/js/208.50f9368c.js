"use strict";(self["webpackChunkinfinity_flowers"]=self["webpackChunkinfinity_flowers"]||[]).push([[208],{1557:function(e,t,s){s.d(t,{Z:function(){return x}});var r=s(6252),a=s(3577);const l={class:"mt-2"},o={class:"nav justify-content-center"},n={class:"nav-item"},i={class:"nav-link ordernav text-dark"},c=(0,r._)("span",null,"購物車",-1),d={class:"nav-item"},u={class:"nav-link ordernav text-dark"},_=(0,r._)("span",null,"建立訂單",-1),p={class:"nav-item"},h={class:"nav-link ordernav text-dark"},m=(0,r._)("span",null,"訂單確認",-1),v={class:"nav-item"},w={class:"nav-link ordernav text-dark"},g=(0,r._)("span",null,"訂單完成",-1);function b(e,t,s,b,f,k){return(0,r.wg)(),(0,r.iD)("div",l,[(0,r._)("ul",o,[(0,r._)("li",n,[(0,r._)("p",i,[(0,r._)("i",{class:(0,a.C_)(["bi bi-flower3","cart"===s.PageName?"ordernav-icon":"text-secondary"])},null,2),c])]),(0,r._)("li",d,[(0,r._)("p",u,[(0,r._)("i",{class:(0,a.C_)(["bi bi-flower3","order"===s.PageName?"ordernav-icon":"text-secondary"])},null,2),_])]),(0,r._)("li",p,[(0,r._)("p",h,[(0,r._)("i",{class:(0,a.C_)(["bi bi-flower3","orderchecked"===s.PageName?"ordernav-icon":"text-secondary"])},null,2),m])]),(0,r._)("li",v,[(0,r._)("p",w,[(0,r._)("i",{class:(0,a.C_)(["bi bi-flower3","orderCompleted"===s.PageName?"ordernav-icon":"text-secondary"])},null,2),g])])])])}var f={data(){return{isPage:""}},props:["PageName"]},k=s(3744);const y=(0,k.Z)(f,[["render",b]]);var x=y},8208:function(e,t,s){s.r(t),s.d(t,{default:function(){return Z}});s(7658);var r=s(6252),a=s(3577),l=s(9963);const o={class:"container"},n=(0,r._)("h3",null,[(0,r._)("i",{class:"bi bi-flower3 text-lightcolor"}),(0,r._)("span",{class:"text-deepcolor"},"訂單已建立")],-1),i={class:"row mb-3"},c={class:"col-md-7 mt-2"},d=(0,r._)("h4",null,[(0,r._)("span",{class:"enphasis"},"訂單明細")],-1),u={class:"table table-striped"},_=(0,r._)("thead",null,[(0,r._)("tr",null,[(0,r._)("th",{scope:"col"},"品名"),(0,r._)("th",{scope:"col"},"數量"),(0,r._)("th",{scope:"col"},"價格")])],-1),p={scope:"row"},h=(0,r._)("td",{colspan:"1"},null,-1),m=(0,r._)("td",{colspan:"1",class:"fs-5"},"總價",-1),v={class:"fs-5"},w={class:"col-md-5 mt-2"},g=(0,r._)("h4",null,[(0,r._)("span",{class:"enphasis"},"訂購人資料")],-1),b={class:"table"},f=(0,r._)("th",{scope:"row"},"姓名",-1),k={scope:"col"},y=(0,r._)("th",{scope:"row"},"Email",-1),x=(0,r._)("th",{scope:"row"},"電話",-1),L=(0,r._)("th",{scope:"row"},"地址",-1),N=(0,r._)("th",{scope:"row"},"付款狀態",-1),C={key:0,class:"text-danger"},O={key:1,class:"text-success"},z={class:"row justify-content-center ms-0 me-0"};function P(e,t,s,P,$,D){const I=(0,r.up)("LoadingOverlay"),j=(0,r.up)("OrderNav");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(I,{active:$.isLoading},null,8,["active"]),(0,r._)("div",o,[(0,r.Wm)(j,{PageName:$.pageName,class:"orderNav"},null,8,["PageName"]),n,(0,r._)("div",i,[(0,r._)("div",c,[d,(0,r._)("table",u,[_,(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)($.orderList.products,((e,t)=>((0,r.wg)(),(0,r.iD)("tr",{key:t},[(0,r._)("th",p,(0,a.zw)(e.product.title),1),(0,r._)("td",null,(0,a.zw)(e.qty),1),(0,r._)("td",null,(0,a.zw)(e.total),1)])))),128))]),(0,r._)("tfoot",null,[h,m,(0,r._)("td",v,(0,a.zw)($.orderList.total),1)])])]),(0,r._)("div",w,[g,(0,r._)("table",b,[(0,r._)("tbody",null,[(0,r._)("tr",null,[f,(0,r._)("td",k,(0,a.zw)($.orderList.user.name),1)]),(0,r._)("tr",null,[y,(0,r._)("td",null,(0,a.zw)($.orderList.user.email),1)]),(0,r._)("tr",null,[x,(0,r._)("td",null,(0,a.zw)($.orderList.user.tel),1)]),(0,r._)("tr",null,[L,(0,r._)("td",null,(0,a.zw)($.orderList.user.address),1)]),(0,r._)("tr",null,[N,$.orderList.is_paid?((0,r.wg)(),(0,r.iD)("td",O,"已付款")):((0,r.wg)(),(0,r.iD)("td",C," 未付款 "))])])])]),(0,r._)("div",z,[(0,r._)("button",{class:"btn mt-3 col-5 me-1 button-deepcolor",onClick:t[0]||(t[0]=(0,l.iM)((t=>e.$router.push("/")),["prevent"]))},"稍後進行付款"),(0,r._)("button",{class:"btn mt-3 col-5 ms-1 button-lightcolor",onClick:t[1]||(t[1]=(0,l.iM)(((...e)=>D.payOrder&&D.payOrder(...e)),["prevent"]))},"確認付款")])])])],64)}var $=s(1557),D={data(){return{pageName:"orderchecked",isLoading:!1,orderId:"",orderList:{user:{name:"",email:"",tel:"",address:""}}}},components:{OrderNav:$.Z},inject:["emitter"],methods:{getOrder(){this.isLoading=!0,this.orderId=this.$route.params.orderid;const e=`https://vue3-course-api.hexschool.io/api/flower-api/order/${this.orderId}`;this.$http.get(e).then((e=>{e.data.success&&(this.orderList={...e.data.order},this.isLoading=!1)}))},payOrder(){const e=`https://vue3-course-api.hexschool.io/api/flower-api/pay/${this.orderId}`;this.$http.post(e).then((e=>{e.data.success&&(this.getOrder(),this.$router.push(`/order/${this.orderId}/paid`))})).catch((e=>{this.emitter.emit("push-message",{style:"danger",title:e.response.data})}))}},created(){this.getOrder(),this.emitter.emit("judge-page","orderchecked")}},I=s(3744);const j=(0,I.Z)(D,[["render",P]]);var Z=j}}]);
//# sourceMappingURL=208.50f9368c.js.map