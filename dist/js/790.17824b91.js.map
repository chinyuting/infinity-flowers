{"version":3,"file":"js/790.17824b91.js","mappings":"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","sources":["webpack://infinity-flowers/./src/mixins/GetCarts.js","webpack://infinity-flowers/./src/mixins/GetFavorites.js","webpack://infinity-flowers/./src/components/PaginationComponent.vue","webpack://infinity-flowers/./src/components/PaginationComponent.vue?4f9e","webpack://infinity-flowers/./src/views/Front/ProductsView.vue","webpack://infinity-flowers/./src/views/Front/ProductsView.vue?c50b"],"sourcesContent":["export default {\n  inject: ['emitter'],\n  methods: {\n    getCarts() {\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.$http.get(api)\n        .then((res) => {\n          if (res.data.success) {\n            this.cartqty = 0;\n            this.isLoading = false;\n            this.CartList = res.data.data;\n            this.cartLength = res.data.data.carts.length;\n            res.data.data.carts.forEach((element) => {\n              this.cartqty += element.qty;\n            });\n            this.emitter.emit('push-notice', {\n              data: this.cartLength,\n              category: 'cart',\n            });\n          }\n        });\n    },\n  },\n};\n","export default {\n  // inject: ['emitter'],\n  methods: {\n    getFavorite() {\n      if (localStorage.getItem('favoriteItem')) {\n        const tempList = localStorage.getItem('favoriteItem');\n        this.idList = JSON.parse(tempList);\n      } else {\n        this.idList = [];\n      }\n      // this.emitter.emit('push-notice', {\n      //   data: this.idList.length,\n      //   category: 'favorite',\n      // });\n    },\n  },\n};\n","<template>\n  <nav aria-label=\"Page navigation example\">\n    <ul class=\"pagination justify-content-center\">\n      <li class=\"page-item\">\n        <a class=\"page-link\" href=\"#\" tabindex=\"-1\" aria-disabled=\"true\"\n        :class=\"{ disabled: !temppage.has_pre }\"\n        @click.prevent=\"updatePage(temppage.current_page-1)\">上一頁</a>\n      </li>\n      <li class=\"page-item\"\n      v-for=\"(item, key) in temppage.total_pages\"\n      :key=\"key\">\n        <a class=\"page-link\" href=\"#\"\n        :class=\" { 'active': item===temppage.current_page } \"\n        @click.prevent=\"updatePage(item)\">{{ item }}</a>\n      </li>\n      <li class=\"page-item\">\n        <a class=\"page-link\" href=\"#\"\n        :class=\"{ disabled: !temppage.has_next }\"\n        @click.prevent=\"updatePage(temppage.current_page+1)\">下一頁</a>\n      </li>\n    </ul>\n  </nav>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      temppage: {},\n    };\n  },\n  props: ['pages'],\n  watch: {\n    pages() {\n      this.temppage = this.pages;\n    },\n  },\n  methods: {\n    updatePage(item) {\n      this.$emit('emit-page', item);\n    },\n  },\n};\n</script>\n","import { render } from \"./PaginationComponent.vue?vue&type=template&id=6b5443ae\"\nimport script from \"./PaginationComponent.vue?vue&type=script&lang=js\"\nexport * from \"./PaginationComponent.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/chiu/infinity-flowers/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <LoadingOverlay :active=\"isLoading\"></LoadingOverlay>\n<div class=\"container\">\n  <div class=\"row\">\n    <!-- 側邊分類 -->\n    <div class=\"side-bar col-lg-2\">\n      <ul class=\"nav d-flex flex-lg-column flex-row\">\n        <li class=\"nav-item\">\n          <a class=\"nav-link  text-secondary rounded-pill\" href=\"#\"\n          aria-current=\"page\"\n          @click.prevent=\"category = ''\">\n            <i class=\"bi bi-flower3 text-danger\"\n            :style=\"{visibility: category === '' ? 'visible' : 'hidden'}\"></i>全部商品\n          </a>\n        </li>\n        <li class=\"nav-item\" v-for=\"(item, key) in productCategory\" :key=\"key\">\n          <a class=\"nav-link text-secondary rounded-pill\" href=\"#\"\n          @click.prevent=\"category = item\">\n            <i class=\"bi bi-flower3 text-danger\"\n            :style=\"{visibility: category === item ? 'visible' : 'hidden'}\"></i>\n            {{ item }}\n          </a>\n        </li>\n      </ul>\n    </div>\n    <!-- 商品列表 -->\n    <div class=\"col-lg-10 row ms-0\">\n      <div class=\"col-sm-12 col-md-6 col-lg-4\"\n        v-for=\"(item, key) in filterProduct[pagination.current_page-1]\" :key=\"key\">\n        <div class=\"card mt-1 mb-2 mx-auto\" style=\"max-width: 280px;\">\n          <a class=\"productcard\" href=\"#\" @click.prevent=\"goForDetail(item.id)\">\n            <!-- 商品類別標示 商品圖片 -->\n            <div class=\"overflow-hidden text-light position-relative border-bottom\"\n            style=\"height: 345px;\">\n              <div class=\"position-absolute bg-secondary px-2 bottom-0 end-0 rounded\">\n                <p class=\"card-text\">{{ item.category }}</p>\n              </div>\n              <img :src=\"item.imageUrl\" alt=\"\"\n              class=\"card-img-top d-block align-middle h-100 w-auto mx-auto\">\n            </div>\n            <div class=\"card-body text-dark\">\n              <div>\n                <h5 class=\"row\">\n                  <!-- 商品名稱 -->\n                  <div class=\"card-title col-10 overflow-hidden\"\n                  style=\"max-width: 225px; text-overflow: ellipsis; white-space: nowrap;\"\n                  :title=\"item.title\">\n                    {{ item.title }}\n                  </div>\n                  <!-- 加入收藏 -->\n                  <div class=\"mw-25 text-end col-2\">\n                    <a href=\"#\" @click.stop.prevent=\"updateFavorite(item)\">\n                      <i class=\"bi bi-heart text-danger\" title=\"加入收藏\"\n                      v-if=\"idList.every((id) => item.id !== id)\"></i>\n                      <i class=\"bi bi-heart-fill text-danger\" title=\"移除收藏\"\n                      v-else></i>{{ null }}\n                    </a>\n                  </div>\n                </h5>\n              </div>\n              <!-- 商品資訊 -->\n              <p class=\"card-text\">\n                <span class=\"text-decoration-line-through fs-6\"\n                v-if=\"item.origin_price !== item.price\"> NT${{ item.origin_price }}</span>\n                <span class=\"fs-5\"> NT${{ item.price }}</span>\n              </p>\n            </div>\n          </a>\n          <div class=\"card-footer\">\n            <a href=\"#\" class=\"btn btn-danger w-100\" @click.prevent=\"addCart(item)\"\n            style=\"z-index: 5\">\n              <div class=\"spinner-border spinner-border-sm text-light\" role=\"status\"\n                v-if=\"loadingStatus && item.id === tempCartId\">\n                <span class=\"visually-hidden\">Loading...</span>\n              </div>\n              <i class=\"bi bi-cart-plus\" v-else></i>加入購物車\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n  <Pagination :pages=\"pagination\" @emit-page=\"getProducts\" class=\"mt-2\"></Pagination>\n</template>\n\n<style>\n.productcard{\n  text-decoration: none;\n}\n.product-card:nth-child(3n-1){\n  margin: 0 auto;\n}\n</style>\n\n<script>\nimport Pagination from '@/components/PaginationComponent.vue';\nimport mixinCart from '@/mixins/GetCarts';\nimport mixinFavorite from '@/mixins/GetFavorites';\n\nexport default {\n  data() {\n    return {\n      idList: [],\n      tempCartId: '',\n      productList: [],\n      allProductList: [],\n      pagination: {},\n      page: 1,\n      productCategory: [],\n      category: '',\n      isLoading: false,\n      loadingStatus: false,\n    };\n  },\n  components: {\n    Pagination,\n  },\n  inject: ['emitter'],\n  methods: {\n    getProducts(page = 1) {\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products?page=${page}`;\n      this.$http.get(api)\n        .then((res) => {\n          if (res.data.success) {\n            this.productList = res.data.products;\n            this.pagination = res.data.pagination;\n            this.isLoading = false;\n          }\n        });\n    },\n    getCategory() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;\n      this.$http.get(api)\n        .then((res) => {\n          if (res.data.success) {\n            this.allProductList = res.data.products;\n            const category = [];\n            this.allProductList.forEach((item) => {\n              category.push(item.category);\n            });\n            this.productCategory = category.filter((element, index, arr) => arr.indexOf(element)\n            === index);\n          }\n        });\n    },\n    addCart(item) {\n      this.loadingStatus = true;\n      this.tempCartId = item.id;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      const cart = {\n        product_id: item.id,\n        qty: 1,\n      };\n      this.$http.post(api, { data: cart })\n        .then((res) => {\n          if (res.data.success) {\n            this.emitter.emit('push-message', {\n              style: 'success',\n              title: res.data.message,\n            });\n            this.getProducts();\n            this.getCarts();\n            this.loadingStatus = false;\n          }\n        });\n    },\n    updateFavorite(item) {\n      if (this.idList.every((id) => item.id !== id)) {\n        this.idList.push(item.id);\n        localStorage.setItem('favoriteItem', JSON.stringify(this.idList));\n        this.emitter.emit('push-message', {\n          style: 'success',\n          title: '已新增至收藏',\n        });\n      } else {\n        this.idList.indexOf(item.id);\n        this.idList.splice(this.idList.indexOf(item.id), 1);\n        localStorage.setItem('favoriteItem', JSON.stringify(this.idList));\n        this.emitter.emit('push-message', {\n          style: 'danger',\n          title: '已取消收藏',\n        });\n      }\n      this.getFavorite();\n    },\n    goForDetail(id) {\n      this.$router.push(`/products/${id}`);\n    },\n  },\n  computed: {\n    filterProduct() {\n      const tempData = this.allProductList.filter((item) => item.category.match(this.category));\n      const resultData = [];\n      // eslint-disable-next-line\n      this.pagination.total_pages = parseInt(tempData.length / 10, 10) + 1;\n      if (this.pagination.current_page > this.pagination.total_pages) {\n        // eslint-disable-next-line\n        this.pagination.current_page = 1;\n      }\n      tempData.forEach((item, i) => {\n        if (i % 10 === 0) {\n          resultData.push([]);\n        }\n        const pagenum = parseInt(i / 10, 10);\n        resultData[pagenum].push(item);\n      });\n      return resultData;\n    },\n  },\n  mixins: [mixinCart, mixinFavorite],\n  created() {\n    this.getProducts();\n    this.getFavorite();\n    this.getCategory();\n  },\n  mounted() {\n    this.emitter.emit('page-change', {\n      data: 'products',\n    });\n  },\n};\n</script>\n","import { render } from \"./ProductsView.vue?vue&type=template&id=7e6b5371\"\nimport script from \"./ProductsView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsView.vue?vue&type=script&lang=js\"\n\nimport \"./ProductsView.vue?vue&type=style&index=0&id=7e6b5371&lang=css\"\n\nimport exportComponent from \"/Users/chiu/infinity-flowers/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["inject","methods","getCarts","this","isLoading","api","$http","get","then","res","data","success","cartqty","CartList","cartLength","carts","length","forEach","element","qty","emitter","emit","category","getFavorite","localStorage","getItem","tempList","idList","JSON","parse","class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_normalizeClass","disabled","$data","temppage","has_pre","href","tabindex","onClick","_cache","_withModifiers","$event","$options","updatePage","current_page","_Fragment","_renderList","total_pages","item","key","_hoisted_4","_hoisted_5","has_next","props","watch","pages","$emit","__exports__","render","style","title","role","_hoisted_27","_createVNode","_component_LoadingOverlay","active","_normalizeStyle","visibility","productCategory","_toDisplayString","_hoisted_7","filterProduct","pagination","_hoisted_8","goForDetail","id","_hoisted_10","_hoisted_11","_hoisted_12","src","imageUrl","alt","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","updateFavorite","every","_hoisted_19","_hoisted_20","_hoisted_21","origin_price","price","_hoisted_22","_hoisted_23","_hoisted_24","addCart","loadingStatus","tempCartId","_hoisted_26","_hoisted_28","_hoisted_29","_component_Pagination","onEmitPage","getProducts","productList","allProductList","page","components","Pagination","products","getCategory","push","filter","index","arr","indexOf","cart","product_id","post","message","setItem","stringify","splice","$router","computed","tempData","match","resultData","parseInt","i","pagenum","mixins","mixinCart","mixinFavorite","created","mounted"],"sourceRoot":""}