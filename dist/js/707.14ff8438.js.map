{"version":3,"file":"js/707.14ff8438.js","mappings":"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","sources":["webpack://infinity-flowers/./src/mixins/GetCarts.js","webpack://infinity-flowers/./src/mixins/GetFavorites.js","webpack://infinity-flowers/./src/components/PaginationComponent.vue","webpack://infinity-flowers/./src/components/PaginationComponent.vue?4f9e","webpack://infinity-flowers/./src/views/Front/ProductsView.vue","webpack://infinity-flowers/./src/views/Front/ProductsView.vue?c50b"],"sourcesContent":["export default {\n  inject: ['emitter'],\n  methods: {\n    getCarts() {\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.$http.get(api)\n        .then((res) => {\n          if (res.data.success) {\n            this.cartqty = 0;\n            this.isLoading = false;\n            this.CartList = res.data.data;\n            this.cartLength = res.data.data.carts.length;\n            res.data.data.carts.forEach((element) => {\n              this.cartqty += element.qty;\n            });\n            this.emitter.emit('push-Cartnotice', {\n              data: this.cartLength,\n              category: 'cart',\n            });\n          }\n        });\n    },\n  },\n};\n","export default {\n  // inject: ['emitter'],\n  methods: {\n    getFavorite() {\n      if (localStorage.getItem('favoriteItem')) {\n        const tempList = localStorage.getItem('favoriteItem');\n        this.idList = JSON.parse(tempList);\n        this.favoriteLength = this.idList.length;\n      } else {\n        this.idList = [];\n        this.cartLength = 0;\n        console.log(this.favoriteLength);\n      }\n      this.emitter.emit('push-Favnotice', {\n        data: this.favoriteLength,\n        category: 'cart',\n      });\n    },\n  },\n};\n","<template>\n<nav aria-label=\"Page navigation example\">\n  <ul class=\"pagination justify-content-center\">\n    <li class=\"page-item\">\n      <a class=\"page-link page-deep\" href=\"#\" tabindex=\"-1\" aria-disabled=\"true\"\n      :class=\"{ disabled: !temppage.has_pre }\"\n      @click.prevent=\"updatePage(temppage.current_page-1)\">上一頁</a>\n    </li>\n    <li class=\"page-item\"\n    v-for=\"(item, key) in temppage.total_pages\"\n    :key=\"key\">\n      <a class=\"page-link page-deep\" href=\"#\"\n      :class=\" { 'active': item===temppage.current_page } \"\n      @click.prevent=\"updatePage(item)\">{{ item }}</a>\n    </li>\n    <li class=\"page-item\">\n      <a class=\"page-link page-deep\" href=\"#\"\n      :class=\"{ disabled: !temppage.has_next }\"\n      @click.prevent=\"updatePage(temppage.current_page+1)\">下一頁</a>\n    </li>\n  </ul>\n</nav>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      temppage: {},\n    };\n  },\n  props: ['pages'],\n  watch: {\n    pages() {\n      this.temppage = this.pages;\n    },\n  },\n  methods: {\n    updatePage(item) {\n      this.$emit('emit-page', item);\n    },\n  },\n};\n</script>\n\n<style>\n.page-pastel {\n  color:rgba(231, 152, 152, 1);\n}\n.page-deep {\n  color:#2A1B18;\n}\n.page-link:hover{\n  background-color:rgba(231, 152, 152, 0.25);\n  color: #2A1B18;\n  border-color:rgba(231, 152, 152, 1);\n}\n.page-link.active{\n  background-color:rgba(231, 152, 152, .7);\n  color: #2A1B18;\n  border-color:rgba(231, 152, 152, 1);\n}\n.page-link:focus{\n  color: #2A1B18;\n  box-shadow: 0 0 0 0.25rem rgba(231, 152, 152, 0.25);\n}\n</style>\n","import { render } from \"./PaginationComponent.vue?vue&type=template&id=4609847e\"\nimport script from \"./PaginationComponent.vue?vue&type=script&lang=js\"\nexport * from \"./PaginationComponent.vue?vue&type=script&lang=js\"\n\nimport \"./PaginationComponent.vue?vue&type=style&index=0&id=4609847e&lang=css\"\n\nimport exportComponent from \"/Users/maoweichen/chiu/infinity-flowers/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n<LoadingOverlay :active=\"isLoading\" />\n<div class=\"container\">\n  <div class=\"row\">\n    <!-- 側邊分類 -->\n    <div class=\"side-bar col-lg-2\">\n      <ul class=\"nav d-flex flex-lg-column flex-row\">\n        <li class=\"nav-item\">\n          <a class=\"nav-link rounded-pill product-category\" href=\"#\"\n          :class=\"category === '' ? 'text-pastel' : 'text-deep'\"\n          aria-current=\"page\"\n          @click.prevent=\"category = ''\">\n            <i class=\"bi bi-flower3 text-pastel\"\n            :class=\"category === '' ? 'category-visible' : 'category-hide'\"></i> 全部商品\n          </a>\n        </li>\n        <li class=\"nav-item\" v-for=\"(item, key) in productCategory\" :key=\"key\">\n          <a class=\"nav-link text-deep rounded-pill product-category\" href=\"#\"\n          :class=\"category === item ? 'text-pastel' : 'text-deep'\"\n          @click.prevent=\"category = item\">\n            <i class=\"bi bi-flower3 text-pastel\"\n            :class=\"category === item ? 'category-visible' : 'category-hide'\"></i>\n            {{ item }}\n          </a>\n        </li>\n      </ul>\n    </div>\n    <!-- 商品列表 -->\n    <div class=\"col-lg-10 row ms-0\">\n      <div class=\"col-sm-12 col-md-6 col-lg-4\"\n        v-for=\"(item, key) in filterProduct[pagination.current_page-1]\" :key=\"key\">\n        <div class=\"card mt-1 mb-2 mx-auto productcard\">\n          <a class=\"productcard-content\" href=\"#\" @click.prevent=\"goForDetail(item.id)\">\n            <div class=\"overflow-hidden text-light position-relative border-bottom productcard-pic\">\n              <!-- 商品類別標示 -->\n              <div class=\"position-absolute bg-secondary px-2 bottom-0 end-0 rounded m-1\">\n                <p class=\"card-text\">{{ item.category }}</p>\n              </div>\n              <!-- 商品圖片 -->\n              <img :src=\"item.imageUrl\" :alt=\"item.title\"\n              class=\"card-img-top d-block align-middle w-100 h-100 w-auto mx-auto\">\n            </div>\n            <div class=\"card-body text-dark\">\n              <div>\n                <h5 class=\"row overflow-hidden\">\n                  <!-- 商品名稱 -->\n                  <div class=\"card-title col-10 overflow-hidden productcard-title\"\n                  :title=\"item.title\">\n                    {{ item.title }}\n                  </div>\n                  <!-- 加入收藏 -->\n                  <div class=\"mw-25 text-end col-2 add-favorite\">\n                    <a href=\"#\" @click.stop.prevent=\"updateFavorite(item)\">\n                      <i class=\"bi bi-heart text-danger\" title=\"加入收藏\"\n                      v-if=\"idList.every((id) => item.id !== id)\"></i>\n                      <i class=\"bi bi-heart-fill text-danger\" title=\"移除收藏\"\n                      v-else></i>{{ null }}\n                    </a>\n                  </div>\n                </h5>\n              </div>\n              <!-- 商品資訊 -->\n              <p class=\"card-text\">\n                <span class=\"text-decoration-line-through fs-6\"\n                v-if=\"item.origin_price !== item.price\">\n                  NT${{ $filters.currency(item.origin_price) }}\n                </span>\n                <span class=\"fs-5\"> NT${{ $filters.currency(item.price) }}</span>\n              </p>\n            </div>\n          </a>\n          <div class=\"card-footer\">\n            <a href=\"#\" class=\"btn btn-danger w-100\" @click.prevent=\"addCart(item)\">\n              <div class=\"spinner-border spinner-border-sm text-light\" role=\"status\"\n                v-if=\"loadingStatus && item.id === tempCartId\">\n                <span class=\"visually-hidden\">Loading...</span>\n              </div>\n              <i class=\"bi bi-cart-plus\" v-else></i>加入購物車\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n  <Pagination :pages=\"pagination\" @emit-page=\"getProducts\" class=\"my-4\"/>\n</template>\n\n<script>\nimport Pagination from '@/components/PaginationComponent.vue';\nimport cartMixin from '@/mixins/GetCarts';\nimport favoriteMixin from '@/mixins/GetFavorites';\n\nexport default {\n  data() {\n    return {\n      idList: [],\n      tempCartId: '',\n      productList: [],\n      allProductList: [],\n      pagination: {},\n      page: 1,\n      productCategory: [],\n      category: '',\n      isLoading: false,\n      loadingStatus: false,\n    };\n  },\n  components: {\n    Pagination,\n  },\n  inject: ['emitter'],\n  methods: {\n    getProducts(page = 1) {\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products?page=${page}`;\n      this.$http.get(api)\n        .then((res) => {\n          if (res.data.success) {\n            this.productList = res.data.products;\n            this.pagination = res.data.pagination;\n            this.isLoading = false;\n          }\n        })\n        .catch((err) => {\n          this.isLoading = false;\n          this.emitter.emit('push-message', {\n            style: 'danger',\n            title: `${err.response.data.message}`,\n          });\n        });\n    },\n    getCategory() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;\n      this.$http.get(api)\n        .then((res) => {\n          if (res.data.success) {\n            this.allProductList = res.data.products;\n            const category = [];\n            this.allProductList.forEach((item) => {\n              category.push(item.category);\n            });\n            this.productCategory = category.filter((element, index, arr) => arr.indexOf(element)\n            === index);\n          }\n        })\n        .catch((err) => {\n          this.emitter.emit('push-message', {\n            style: 'danger',\n            title: `${err.response.data.message}`,\n          });\n        });\n    },\n    addCart(item) {\n      this.loadingStatus = true;\n      this.tempCartId = item.id;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      const cart = {\n        product_id: item.id,\n        qty: 1,\n      };\n      this.$http.post(api, { data: cart })\n        .then((res) => {\n          if (res.data.success) {\n            this.emitter.emit('push-message', {\n              style: 'success',\n              title: res.data.message,\n            });\n            this.getProducts();\n            this.getCarts();\n            this.loadingStatus = false;\n          }\n        })\n        .catch((err) => {\n          this.loadingStatus = false;\n          this.emitter.emit('push-message', {\n            style: 'danger',\n            title: `${err.response.data.message}`,\n          });\n        });\n    },\n    updateFavorite(item) {\n      if (this.idList.every((id) => item.id !== id)) {\n        this.idList.push(item.id);\n        localStorage.setItem('favoriteItem', JSON.stringify(this.idList));\n        this.emitter.emit('push-message', {\n          style: 'success',\n          title: '已新增至收藏',\n        });\n      } else {\n        this.idList.indexOf(item.id);\n        this.idList.splice(this.idList.indexOf(item.id), 1);\n        localStorage.setItem('favoriteItem', JSON.stringify(this.idList));\n        this.emitter.emit('push-message', {\n          style: 'danger',\n          title: '已取消收藏',\n        });\n      }\n      this.getFavorite();\n    },\n    goForDetail(id) {\n      this.$router.push(`/products/${id}`);\n    },\n  },\n  computed: {\n    filterProduct() {\n      const tempData = this.allProductList.filter((item) => item.category.match(this.category));\n      const resultData = [];\n      // eslint-disable-next-line\n      this.pagination.total_pages = tempData.length % 10 === 0? parseInt(tempData.length / 10, 10) : parseInt(tempData.length / 10, 10)+1;\n      if (this.pagination.current_page > this.pagination.total_pages) {\n        // eslint-disable-next-line\n        this.pagination.current_page = 1;\n      }\n      tempData.forEach((item, i) => {\n        if (i % 9 === 0) {\n          resultData.push([]);\n        }\n        const pagenum = parseInt(i / 9, 9);\n        resultData[pagenum].push(item);\n      });\n      return resultData;\n    },\n  },\n  mixins: [cartMixin, favoriteMixin],\n  created() {\n    this.getProducts();\n    this.getFavorite();\n    this.getCategory();\n  },\n  mounted() {\n    this.emitter.emit('page-change', {\n      data: 'products',\n    });\n  },\n};\n</script>\n\n<style>\n.text-deep {\n  color:#2A1B18;\n}\n.product-category:hover{\n  color:rgba(231, 152, 152, 1);\n}\n.text-pastel {\n  color:rgba(231, 152, 152, 1);\n}\n.category-visible{\n  visibility:visible;\n}\n.category-hide{\n  visibility:hidden;\n}\n.add-favorite{\n  font-size: 20px;\n  transition: font-size .5s;\n}\n.add-favorite:hover{\n  font-size: 23px;\n}\n.productcard{\n  max-width: 276px;\n}\n.productcard-content{\n  text-decoration: none;\n}\n.productcard-pic img{\n  transition: all 1s;\n  border-radius: 0.375rem 0.375rem 0 0;\n}\n.productcard-content:hover .productcard-pic img{\n  transform: scale(1.1);\n}\n.productcard-pic{\n  height: 345px;\n}\n.productcard-content .card-title{\n  max-width: 225px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.product-card-content:nth-child(3n-1){\n  margin: 0 auto;\n}\n</style>\n","import { render } from \"./ProductsView.vue?vue&type=template&id=53fb194e\"\nimport script from \"./ProductsView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsView.vue?vue&type=script&lang=js\"\n\nimport \"./ProductsView.vue?vue&type=style&index=0&id=53fb194e&lang=css\"\n\nimport exportComponent from \"/Users/maoweichen/chiu/infinity-flowers/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["inject","methods","getCarts","this","isLoading","api","$http","get","then","res","data","success","cartqty","CartList","cartLength","carts","length","forEach","element","qty","emitter","emit","category","getFavorite","localStorage","getItem","tempList","idList","JSON","parse","favoriteLength","console","log","class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_normalizeClass","disabled","$data","temppage","has_pre","href","tabindex","onClick","_cache","_withModifiers","$event","$options","updatePage","current_page","_Fragment","_renderList","total_pages","item","key","_hoisted_4","_hoisted_5","has_next","props","watch","pages","$emit","__exports__","render","title","role","_hoisted_27","_createVNode","_component_LoadingOverlay","active","productCategory","_toDisplayString","_hoisted_7","filterProduct","pagination","_hoisted_8","goForDetail","id","_hoisted_10","_hoisted_11","_hoisted_12","src","imageUrl","alt","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","updateFavorite","every","_hoisted_19","_hoisted_20","_hoisted_21","origin_price","price","_hoisted_22","_ctx","$filters","currency","_hoisted_23","_hoisted_24","addCart","loadingStatus","tempCartId","_hoisted_26","_hoisted_28","_hoisted_29","_component_Pagination","onEmitPage","getProducts","productList","allProductList","page","components","Pagination","products","catch","err","style","response","message","getCategory","push","filter","index","arr","indexOf","cart","product_id","post","setItem","stringify","splice","$router","computed","tempData","match","resultData","parseInt","i","pagenum","mixins","cartMixin","favoriteMixin","created","mounted"],"sourceRoot":""}