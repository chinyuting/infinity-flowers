{"version":3,"file":"js/342.b4da5239.js","mappings":"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","sources":["webpack://infinity-flowers/./src/mixins/GetCarts.js","webpack://infinity-flowers/./src/mixins/GetFavorites.js","webpack://infinity-flowers/./src/mixins/GoDetail.js","webpack://infinity-flowers/./src/components/PaginationComponent.vue","webpack://infinity-flowers/./src/components/PaginationComponent.vue?4f9e","webpack://infinity-flowers/./src/views/Front/ProductsView.vue","webpack://infinity-flowers/./src/views/Front/ProductsView.vue?c50b"],"sourcesContent":["export default {\n  inject: ['emitter'],\n  methods: {\n    getCarts() {\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.$http.get(api)\n        .then((res) => {\n          if (res.data.success) {\n            this.cartqty = 0;\n            this.isLoading = false;\n            this.CartList = res.data.data;\n            this.cartLength = res.data.data.carts.length;\n            res.data.data.carts.forEach((element) => {\n              this.cartqty += element.qty;\n            });\n            this.emitter.emit('push-Cartnotice', {\n              data: this.cartLength,\n              category: 'cart',\n            });\n          }\n        });\n    },\n  },\n};\n","export default {\n  // inject: ['emitter'],\n  methods: {\n    getFavorite() {\n      if (localStorage.getItem('favoriteItem')) {\n        const tempList = localStorage.getItem('favoriteItem');\n        this.idList = JSON.parse(tempList);\n        this.favoriteLength = this.idList.length;\n      } else {\n        this.idList = [];\n        this.cartLength = 0;\n        console.log(this.favoriteLength);\n      }\n      this.emitter.emit('push-Favnotice', {\n        data: this.favoriteLength,\n        category: 'cart',\n      });\n    },\n  },\n};\n","export default {\n  inject: ['emitter'],\n  methods: {\n    goForDetail(item) {\n      if (localStorage.getItem('viewedItem')) {\n        const tempList = localStorage.getItem('viewedItem');\n        this.viewedList = JSON.parse(tempList);\n      } else {\n        this.viewedList = [];\n      }\n      if (this.viewedList.every((viewedid) => viewedid !== item.id)) {\n        // if (this.viewedList.length >= 3) {\n        //   this.viewedList.shift();\n        // }\n        this.viewedList.push(item.id);\n        localStorage.setItem('viewedItem', JSON.stringify(this.viewedList));\n      }\n      this.emitter.emit('push-ProductDetail', {\n        data: item,\n      });\n      this.$router.push(`/products/${item.id}`);\n    },\n  },\n};\n","<template>\n<nav aria-label=\"Page navigation example\">\n  <ul class=\"pagination justify-content-center\">\n    <li class=\"page-item\">\n      <a class=\"page-link page-deep\" href=\"#\" tabindex=\"-1\" aria-disabled=\"true\"\n      :class=\"{ disabled: !temppage.has_pre }\"\n      @click.prevent=\"updatePage(temppage.current_page-1)\">上一頁</a>\n    </li>\n    <li class=\"page-item\"\n    v-for=\"(item, key) in temppage.total_pages\"\n    :key=\"key\">\n      <a class=\"page-link page-deep\" href=\"#\"\n      :class=\" { 'active': item===temppage.current_page } \"\n      @click.prevent=\"updatePage(item)\">{{ item }}</a>\n    </li>\n    <li class=\"page-item\">\n      <a class=\"page-link page-deep\" href=\"#\"\n      :class=\"{ disabled: !temppage.has_next }\"\n      @click.prevent=\"updatePage(temppage.current_page+1)\">下一頁</a>\n    </li>\n  </ul>\n</nav>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      temppage: {},\n    };\n  },\n  props: ['pages'],\n  watch: {\n    pages() {\n      this.temppage = this.pages;\n    },\n  },\n  methods: {\n    updatePage(item) {\n      this.$emit('emit-page', item);\n    },\n  },\n};\n</script>\n\n<style>\n.page-pastel {\n  color:rgba(231, 152, 152, 1);\n}\n.page-deep {\n  color:#2A1B18;\n}\n.page-link:hover{\n  background-color:rgba(231, 152, 152, 0.25);\n  color: #2A1B18;\n  border-color:rgba(231, 152, 152, 1);\n}\n.page-link.active{\n  background-color:rgba(231, 152, 152, .7);\n  color: #2A1B18;\n  border-color:rgba(231, 152, 152, 1);\n}\n.page-link:focus{\n  color: #2A1B18;\n  box-shadow: 0 0 0 0.25rem rgba(231, 152, 152, 0.25);\n}\n</style>\n","import { render } from \"./PaginationComponent.vue?vue&type=template&id=4609847e\"\nimport script from \"./PaginationComponent.vue?vue&type=script&lang=js\"\nexport * from \"./PaginationComponent.vue?vue&type=script&lang=js\"\n\nimport \"./PaginationComponent.vue?vue&type=style&index=0&id=4609847e&lang=css\"\n\nimport exportComponent from \"/Users/maoweichen/chiu/infinity-flowers/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n<LoadingOverlay :active=\"isLoading\" />\n<div class=\"container\">\n  <div class=\"row\">\n    <!-- 側邊分類 -->\n    <div class=\"side-bar col-lg-2\">\n      <ul class=\"nav d-flex flex-lg-column flex-row\">\n        <li class=\"nav-item\">\n          <a class=\"nav-link rounded-pill product-category\" href=\"#\"\n          :class=\"category === '' ? 'text-pastel' : 'text-deep'\"\n          aria-current=\"page\"\n          @click.prevent=\"category = ''\">\n            <i class=\"bi bi-flower3 text-pastel\"\n            :class=\"category === '' ? 'category-visible' : 'category-hide'\"></i> 全部商品\n          </a>\n        </li>\n        <li class=\"nav-item\" v-for=\"(item, key) in productCategory\" :key=\"key\">\n          <a class=\"nav-link text-deep rounded-pill product-category\" href=\"#\"\n          :class=\"category === item ? 'text-pastel' : 'text-deep'\"\n          @click.prevent=\"category = item\">\n            <i class=\"bi bi-flower3 text-pastel\"\n            :class=\"category === item ? 'category-visible' : 'category-hide'\"></i>\n            {{ item }}\n          </a>\n        </li>\n      </ul>\n    </div>\n    <!-- 商品列表 -->\n    <div class=\"col-lg-10 row ms-0\">\n      <div class=\"col-sm-12 col-md-6 col-lg-4\"\n        v-for=\"(item, key) in filterProduct[pagination.current_page-1]\" :key=\"key\">\n        <div class=\"card mt-1 mb-2 mx-auto productcard\">\n          <a class=\"productcard-item\" href=\"#\" @click.prevent=\"goForDetail(item)\">\n            <div class=\"overflow-hidden text-light position-relative border-bottom productcard-pic\">\n              <!-- 商品類別標示 -->\n              <div class=\"position-absolute bg-secondary px-2 bottom-0 end-0 rounded m-1\">\n                <p class=\"card-text\">{{ item.category }}</p>\n              </div>\n              <!-- 商品圖片 -->\n              <img :src=\"item.imageUrl\" :alt=\"item.title\"\n              class=\"card-img-top d-block align-middle w-100 h-100 w-auto mx-auto\">\n            </div>\n            <div class=\"card-body text-dark\">\n              <div>\n                <h5 class=\"row overflow-hidden\">\n                  <!-- 商品名稱 -->\n                  <div class=\"card-title col-10 overflow-hidden productcard-title\"\n                  :title=\"item.title\">\n                    {{ item.title }}\n                  </div>\n                  <!-- 加入收藏 -->\n                  <div class=\"mw-25 text-end col-2 add-favorite\">\n                    <a href=\"#\" @click.stop.prevent=\"updateFavorite(item)\">\n                      <i class=\"bi bi-heart text-danger\" title=\"加入收藏\"\n                      v-if=\"idList.every((id) => item.id !== id)\"></i>\n                      <i class=\"bi bi-heart-fill text-danger\" title=\"移除收藏\"\n                      v-else></i>{{ null }}\n                    </a>\n                  </div>\n                </h5>\n              </div>\n              <!-- 商品資訊 -->\n              <p class=\"card-text\">\n                <span class=\"text-decoration-line-through fs-6\"\n                v-if=\"item.origin_price !== item.price\">\n                  NT${{ $filters.currency(item.origin_price) }}\n                </span>\n                <span class=\"fs-5\"> NT${{ $filters.currency(item.price) }}</span>\n              </p>\n            </div>\n          </a>\n          <div class=\"card-footer\">\n            <a href=\"#\" class=\"btn btn-danger w-100\" @click.prevent=\"addCart(item)\">\n              <div class=\"spinner-border spinner-border-sm text-light\" role=\"status\"\n                v-if=\"loadingStatus && item.id === tempCartId\">\n                <span class=\"visually-hidden\">Loading...</span>\n              </div>\n              <i class=\"bi bi-cart-plus\" v-else></i>加入購物車\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n  <Pagination :pages=\"pagination\" @emit-page=\"getProducts\" class=\"my-5\"/>\n</template>\n\n<script>\nimport Pagination from '@/components/PaginationComponent.vue';\nimport cartMixin from '@/mixins/GetCarts';\nimport favoriteMixin from '@/mixins/GetFavorites';\nimport detailMixin from '@/mixins/GoDetail';\n\nexport default {\n  data() {\n    return {\n      idList: [],\n      tempCartId: '',\n      productList: [],\n      allProductList: [],\n      pagination: {},\n      page: 1,\n      productCategory: [],\n      category: '',\n      isLoading: false,\n      loadingStatus: false,\n    };\n  },\n  components: {\n    Pagination,\n  },\n  inject: ['emitter'],\n  methods: {\n    getProducts(page = 1) {\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products?page=${page}`;\n      this.$http.get(api)\n        .then((res) => {\n          if (res.data.success) {\n            this.productList = res.data.products;\n            this.pagination = res.data.pagination;\n            this.isLoading = false;\n          }\n        })\n        .catch((err) => {\n          this.isLoading = false;\n          this.emitter.emit('push-message', {\n            style: 'danger',\n            title: `${err.response.data.message}`,\n          });\n        });\n    },\n    getCategory() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;\n      this.$http.get(api)\n        .then((res) => {\n          if (res.data.success) {\n            this.allProductList = res.data.products;\n            const category = [];\n            this.allProductList.forEach((item) => {\n              category.push(item.category);\n            });\n            this.productCategory = category.filter((element, index, arr) => arr.indexOf(element)\n            === index);\n          }\n        })\n        .catch((err) => {\n          this.emitter.emit('push-message', {\n            style: 'danger',\n            title: `${err.response.data.message}`,\n          });\n        });\n    },\n    addCart(item) {\n      this.loadingStatus = true;\n      this.tempCartId = item.id;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      const cart = {\n        product_id: item.id,\n        qty: 1,\n      };\n      this.$http.post(api, { data: cart })\n        .then((res) => {\n          if (res.data.success) {\n            this.emitter.emit('push-message', {\n              style: 'success',\n              title: res.data.message,\n            });\n            this.getProducts();\n            this.getCarts();\n            this.loadingStatus = false;\n          }\n        })\n        .catch((err) => {\n          this.loadingStatus = false;\n          this.emitter.emit('push-message', {\n            style: 'danger',\n            title: `${err.response.data.message}`,\n          });\n        });\n    },\n    updateFavorite(item) {\n      if (this.idList.every((id) => item.id !== id)) {\n        this.idList.push(item.id);\n        localStorage.setItem('favoriteItem', JSON.stringify(this.idList));\n        this.emitter.emit('push-message', {\n          style: 'success',\n          title: '已新增至收藏',\n        });\n      } else {\n        this.idList.indexOf(item.id);\n        this.idList.splice(this.idList.indexOf(item.id), 1);\n        localStorage.setItem('favoriteItem', JSON.stringify(this.idList));\n        this.emitter.emit('push-message', {\n          style: 'danger',\n          title: '已取消收藏',\n        });\n      }\n      this.getFavorite();\n    },\n  },\n  computed: {\n    filterProduct() {\n      const tempData = this.allProductList.filter((item) => item.category.match(this.category));\n      const resultData = [];\n      // eslint-disable-next-line\n      this.pagination.total_pages = tempData.length % 10 === 0? parseInt(tempData.length / 10, 10) : parseInt(tempData.length / 10, 10)+1;\n      if (this.pagination.current_page > this.pagination.total_pages) {\n        // eslint-disable-next-line\n        this.pagination.current_page = 1;\n      }\n      tempData.forEach((item, i) => {\n        if (i % 9 === 0) {\n          resultData.push([]);\n        }\n        const pagenum = parseInt(i / 9, 9);\n        resultData[pagenum].push(item);\n      });\n      return resultData;\n    },\n  },\n  mixins: [cartMixin, favoriteMixin, detailMixin],\n  created() {\n    this.getProducts();\n    this.getFavorite();\n    this.getCategory();\n  },\n  mounted() {\n    this.emitter.emit('page-change', {\n      data: 'products',\n    });\n  },\n};\n</script>\n\n<style>\n.text-deep {\n  color:#2A1B18;\n}\n.product-category:hover{\n  color:rgba(231, 152, 152, 1);\n}\n.text-pastel {\n  color:rgba(231, 152, 152, 1);\n}\n.category-visible{\n  visibility:visible;\n}\n.category-hide{\n  visibility:hidden;\n}\n.add-favorite{\n  font-size: 20px;\n  transition: font-size .5s;\n}\n.add-favorite:hover{\n  font-size: 23px;\n}\n.productcard {\n  max-width: 276px;\n}\n.productcard-item{\n  text-decoration: none;\n}\n.productcard-pic{\n  height: 345px;\n  position: relative;\n  transition: all 1s;\n}\n.productcard-pic img{\n  transition: all 1s;\n  scale: 1;\n  border-radius: 0.375rem 0.375rem 0 0;\n}\n.productcard-item:hover .productcard-pic img{\n  transform: scale(1.1);\n}\n.productcard-item .card-title{\n  max-width: 225px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.product-card-content:nth-child(3n-1){\n  margin: 0 auto;\n}\n</style>\n","import { render } from \"./ProductsView.vue?vue&type=template&id=d8ee7de2\"\nimport script from \"./ProductsView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsView.vue?vue&type=script&lang=js\"\n\nimport \"./ProductsView.vue?vue&type=style&index=0&id=d8ee7de2&lang=css\"\n\nimport exportComponent from \"/Users/maoweichen/chiu/infinity-flowers/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["inject","methods","getCarts","this","isLoading","api","$http","get","then","res","data","success","cartqty","CartList","cartLength","carts","length","forEach","element","qty","emitter","emit","category","getFavorite","localStorage","getItem","tempList","idList","JSON","parse","favoriteLength","console","log","goForDetail","item","viewedList","every","viewedid","id","push","setItem","stringify","$router","class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_normalizeClass","disabled","$data","temppage","has_pre","href","tabindex","onClick","_cache","_withModifiers","$event","$options","updatePage","current_page","_Fragment","_renderList","total_pages","key","_hoisted_4","_hoisted_5","has_next","props","watch","pages","$emit","__exports__","render","title","role","_hoisted_27","_createVNode","_component_LoadingOverlay","active","productCategory","_toDisplayString","_hoisted_7","filterProduct","pagination","_hoisted_8","_ctx","_hoisted_10","_hoisted_11","_hoisted_12","src","imageUrl","alt","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","updateFavorite","_hoisted_19","_hoisted_20","_hoisted_21","origin_price","price","_hoisted_22","$filters","currency","_hoisted_23","_hoisted_24","addCart","loadingStatus","tempCartId","_hoisted_26","_hoisted_28","_hoisted_29","_component_Pagination","onEmitPage","getProducts","productList","allProductList","page","components","Pagination","products","catch","err","style","response","message","getCategory","filter","index","arr","indexOf","cart","product_id","post","splice","computed","tempData","match","resultData","parseInt","i","pagenum","mixins","cartMixin","favoriteMixin","detailMixin","created","mounted"],"sourceRoot":""}